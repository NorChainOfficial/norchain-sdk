# NorChain System Architecture Diagram

**Visual representation of the complete NorChain ecosystem**

---

## 🏗️ Complete System Architecture

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              NORCHAIN ECOSYSTEM                                        │
│                                                                                         │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         APPLICATION LAYER                                         │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   Explorer   │  │   Landing    │  │ NEX Exchange │  │   Wallet     │        │ │
│  │  │   (Next.js)  │  │   (Next.js)  │  │   (Next.js)  │  │  (Next.js)   │        │ │
│  │  │   Port 4002  │  │   Port 4010  │  │   Port 4001  │  │  Port 4020   │        │ │
│  │  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘        │ │
│  │         │                  │                  │                  │                │ │
│  │  ┌──────▼──────────────────▼──────────────────▼──────────────────▼────────────┐ │ │
│  │  │                    Mobile Applications                                       │ │ │
│  │  │  ┌──────────────┐                    ┌──────────────┐                      │ │ │
│  │  │  │   Android    │                    │     iOS      │                      │ │ │
│  │  │  │  (Kotlin)    │                    │   (Swift)     │                      │ │ │
│  │  │  └──────────────┘                    └──────────────┘                      │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│                                    │ HTTP/REST/GraphQL/WebSocket                        │
│                                    ▼                                                    │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         UNIFIED API LAYER                                         │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   REST API   │  │  GraphQL API │  │  WebSocket   │  │   Auth API   │        │ │
│  │  │   (NestJS)   │  │   (NestJS)  │  │   (NestJS)   │  │   (NestJS)   │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   Blocks     │  │ Transactions │  │   Tokens     │  │   Orders     │        │ │
│  │  │   Service    │  │   Service    │  │   Service    │  │   Service    │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   Bridge     │  │   Vault      │  │  Compliance  │  │  Analytics   │        │ │
│  │  │   Service    │  │   Service    │  │   Service    │  │   Service    │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│                                    │ Database Queries                                  │
│                                    ▼                                                    │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         DATA LAYER                                                │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │  PostgreSQL   │  │    Redis      │  │   Supabase    │  │   Storage    │        │ │
│  │  │  (Supabase)  │  │   (Cache)     │  │  (Real-time)  │  │  (Files)     │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│                                    │ RPC Calls                                         │
│                                    ▼                                                    │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                      BLOCKCHAIN PROTOCOL LAYER                                     │ │
│  │                                                                                   │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                         CONSENSUS LAYER                                     │ │ │
│  │  │                                                                              │ │ │
│  │  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐                     │ │ │
│  │  │  │   Validator   │  │   Validator   │  │   Validator   │                     │ │ │
│  │  │  │   Node 1      │  │   Node 2      │  │   Node N      │                     │ │ │
│  │  │  │  (PoSA)       │  │  (PoSA)       │  │  (PoSA)       │                     │ │ │
│  │  │  └──────────────┘  └──────────────┘  └──────────────┘                     │ │ │
│  │  │                                                                              │ │ │
│  │  │  ┌───────────────────────────────────────────────────────────────────────┐ │ │ │
│  │  │  │                    PoSA Consensus Engine                               │ │ │ │
│  │  │  │  • Epoch-less block production                                         │ │ │ │
│  │  │  │  • <2s finality                                                       │ │ │ │
│  │  │  │  • Dynamic validator rotation                                          │ │ │ │
│  │  │  │  • Compliance scoring                                                  │ │ │ │
│  │  │  └───────────────────────────────────────────────────────────────────────┘ │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────────┘ │ │
│  │                                                                                   │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                       EXECUTION LAYER                                        │ │ │
│  │  │                                                                              │ │ │
│  │  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐                     │ │ │
│  │  │  │   EVM        │  │   Smart     │  │   Bridge     │                     │ │ │
│  │  │  │   Runtime    │  │   Contracts │  │   Contracts  │                     │ │ │
│  │  │  └──────────────┘  └──────────────┘  └──────────────┘                     │ │ │
│  │  │                                                                              │ │ │
│  │  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐                     │ │ │
│  │  │  │   Governance │  │   Token      │  │   Vault      │                     │ │ │
│  │  │  │   Contracts  │  │   Contracts  │  │   Contracts  │                     │ │ │
│  │  │  └──────────────┘  └──────────────┘  └──────────────┘                     │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│                                    │ Cross-Chain Messages                             │
│                                    ▼                                                    │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                      INTEROPERABILITY LAYER                                       │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   Bridge     │  │   Bridge     │  │   Bridge     │  │   Bridge     │        │ │
│  │  │   to BSC     │  │   to ETH     │  │   to Tron    │  │   to Cosmos  │        │ │
│  │  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘        │ │
│  │         │                  │                  │                  │                │ │
│  │  ┌──────▼──────────────────▼──────────────────▼──────────────────▼────────────┐ │ │
│  │  │                    Bridge Relayers                                           │ │ │
│  │  │  • Vault-based validation                                                    │ │ │
│  │  │  • Proof-based validation                                                    │ │ │
│  │  │  • Atomic swaps                                                              │ │ │
│  │  │  • Flash tokens                                                             │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│                                    │ External Data                                     │
│                                    ▼                                                    │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         EXTERNAL SERVICES                                         │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   Oracles     │  │   KYC/AML   │  │   BankID    │  │   Chainlink  │        │ │
│  │  │   (Prices)    │  │   Providers │  │   (Auth)    │  │   (CCIP)     │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 🔐 Compliance & Governance Layer

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                      COMPLIANCE & GOVERNANCE ARCHITECTURE                              │
│                                                                                         │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         REGULATORY MODULES                                        │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   KYC/AML     │  │  Compliance  │  │   Audit      │  │   Reporting  │        │ │
│  │  │   Service     │  │   Scoring    │  │   Trail     │  │   Service    │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│  ┌────────────────────────────────▼──────────────────────────────────────────────────┐ │
│  │                      SHARIA-COMPLIANCE LAYER                                        │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   Riba-Free   │  │  Asset-      │  │   Zakat      │  │   Waqf       │        │ │
│  │  │   Contracts   │  │  Backed      │  │   Auto       │  │   Management │        │ │
│  │  │               │  │  Tokens     │  │   Disbursement│ │              │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│  ┌────────────────────────────────▼──────────────────────────────────────────────────┐ │
│  │                      STANDARDS COMPLIANCE                                           │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   ISO 27001   │  │   NSM-NIS2   │  │     GDPR     │  │  FATF Travel  │        │ │
│  │  │   (Security)  │  │   (Security) │  │  (Privacy)   │  │   Rule       │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│  ┌────────────────────────────────▼──────────────────────────────────────────────────┐ │
│  │                      GOVERNANCE LAYER                                               │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   NorDAO      │  │   Proposal   │  │   Voting     │  │   Treasury   │        │ │
│  │  │   Governance  │  │   System     │  │   Mechanism  │  │   Management │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 💱 Tokenomics Flow

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                              TOKENOMICS ARCHITECTURE                                    │
│                                                                                         │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         NATIVE TOKEN (NOR)                                        │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   Gas Fees    │  │   Staking    │  │  Governance  │  │   Bonding    │        │ │
│  │  │   (Burn)      │  │   Rewards    │  │   Voting     │  │   (Validators)│        │ │
│  │  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘        │ │
│  │         │                  │                  │                  │                │ │
│  │         ▼                  ▼                  ▼                  ▼                │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                    Deflationary Mechanism                                    │ │ │
│  │  │  • Transaction fee burns                                                     │ │ │
│  │  │  • Charity allocation (5%)                                                    │ │ │
│  │  │  • Validator slashing                                                        │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│  ┌────────────────────────────────▼──────────────────────────────────────────────────┐ │
│  │                      SECONDARY ASSETS                                              │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐        │ │
│  │  │   fTokens     │  │  Asset-      │  │   Utility    │  │   Governance │        │ │
│  │  │  (Flash)      │  │  Backed      │  │   Tokens     │  │   Tokens    │        │ │
│  │  │               │  │  (Gold, RE)  │  │              │  │             │        │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘        │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                    │                                                    │
│  ┌────────────────────────────────▼──────────────────────────────────────────────────┐ │
│  │                      DISTRIBUTION MODEL                                            │ │
│  │                                                                                   │ │
│  │  40% Community + Ecosystem  │  20% Validators/Staking  │  15% Treasury           │ │
│  │  10% Development            │  10% Strategic Investors  │  5% Charity/ESG         │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 🔄 Cross-Chain Bridge Flow

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                         CROSS-CHAIN BRIDGE ARCHITECTURE                                │
│                                                                                         │
│  ┌──────────────┐                    ┌──────────────┐                    ┌──────────┐ │
│  │   BSC Chain  │                    │  Ethereum    │                    │   Tron   │ │
│  │              │                    │              │                    │          │ │
│  │  ┌────────┐  │                    │  ┌────────┐  │                    │  ┌──────┐ │ │
│  │  │ BTCBR  │  │                    │  │ ETHBR  │  │                    │  │TRXBR │ │ │
│  │  └────┬───┘  │                    │  └────┬───┘  │                    │  └───┬──┘ │ │
│  └───────┼──────┘                    └───────┼──────┘                    └──────┼────┘ │
│          │                                    │                                    │      │
│          │                                    │                                    │      │
│          └────────────────────────────────────┼────────────────────────────────────┘      │
│                                               │                                        │
│                                               ▼                                        │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         NORCHAIN BRIDGE HUB                                        │ │
│  │                                                                                   │ │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐      │ │
│  │  │   Vault      │  │   Relayer    │  │   Proof      │  │   Flash      │      │ │
│  │  │   Manager    │  │   Network    │  │   Validator  │  │   Tokens     │      │ │
│  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘      │ │
│  │                                                                                   │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                    Bridge Contracts                                         │ │ │
│  │  │  • Lock/Unlock mechanisms                                                   │ │ │
│  │  │  • Cross-chain message passing                                              │ │ │
│  │  │  • Atomic swap execution                                                    │ │ │
│  │  │  • Vault reconciliation                                                      │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────────┘ │ │
│  └───────────────────────────────────────────────────────────────────────────────────┘ │
│                                               │                                        │
│                                               ▼                                        │
│  ┌──────────────┐                    ┌──────────────┐                    ┌──────────┐ │
│  │   NorChain    │                    │   NorChain    │                    │ NorChain │ │
│  │               │                    │               │                    │          │ │
│  │  ┌────────┐  │                    │  ┌────────┐  │                    │  ┌──────┐ │ │
│  │  │ BTCBR  │  │                    │  │ ETHBR  │  │                    │  │TRXBR │ │ │
│  │  └────────┘  │                    │  └────────┘  │                    │  └──────┘ │ │
│  └──────────────┘                    └──────────────┘                    └──────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 📊 Legend

- **Solid Lines**: Direct connections/data flow
- **Dashed Lines**: Optional/conditional connections
- **Boxes**: Components/services
- **Arrows**: Data flow direction

---

## 🔗 Related Documentation

- [High-Level Architecture](./HIGH_LEVEL_ARCHITECTURE.md) - Complete protocol overview
- [Complete Architecture](./COMPLETE_ARCHITECTURE.md) - Detailed technical architecture
- [Ecosystem Overview](./ECOSYSTEM_COMPLETE.md) - Application ecosystem details

---

**Last Updated**: January 2025  
**Maintained By**: Architecture Team

